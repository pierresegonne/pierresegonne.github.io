---
layout: post
title: Let's play a game - count the oil fields
comments: True
share: True
---


TL;DR TODO

## A sense of scale for our thirst for fire

For most of us, fossil fuels are intangible. We come close to their physicality when refueling a car, but even then, we don't even see liter after liter of gasoline beeing poured into the tank. It is hidden from our sight. We turn on the engine, move on, never to see the exhaust gases.

For those of us who are interested in studying their significance for our cultures, or the effect of their burning on climate change, this makes it extremely hard to understand the scale of their usage. Sure, we can read that more than 81 000 000 of barrels (that is 12 879 000 000 liters; yes it's a lot of zeros!) of crude oil are extracted every day, but that number is so unimaginably large that it makes it impossible to comprehend its meaning.

On rare occasions, a sense of that scale can nevertheless seep in our field of view. I can remember very distinctly two of these occasions.

A few years ago, while driving on the highway in North Rine-Westphalia in Germany, I noticed a few hundred meters off the side of the highway a large opening in the ground. It took me a few seconds to make sense of what I was seeing. For kilometers on end, and far into the horizon, the ground had been expunged.

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <img src="../../resources/posts/2024-04-10/Hambach_from_eye.jpg" style="width: 100%; overflow: hidden; margin: 16px 0;">
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 1:</b> An eye-level view of a fraction of the Hambach mine.</span>
</div>


At the bottom of the pit, some machines were hard at work to remove even more material from that open wound. Far into the distance, and overhelmed by the size of the mine, these machines looked ridiculously small, as ants patiently building an anthill; Deceiving impression. These machines were Bagger 288 excavators, also known as the heaviest land vehicle in the world, weighing 13 500 tons, with a length of 220 meters. You can see on Fig. 2 a bulldozer that provides a sense of perspective.

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <img src="../../resources/posts/2024-04-10/bagger_288.jpeg" style="width: 100%; overflow: hidden; margin: 16px 0;">
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 2:</b> A closer look at the bagger 288 excavators reveal their size.</span>
</div>

This sight left me awe-struck. For the first time I had seen the physical manifestation of our thirst for fire. All this material had been removed, burned and sublimated into our atmosphere. But even so, my understanding of how large this mine is was still off. Never would I have guessed the true scale revealed by Satellite imagery. Figure 3. is uncompromisingly revealing, the mine appears clearly visible at a scale that allows seeing cities hundreds of kilometers apart (Paris, Brussels, Düsseldorf, Frankfurt), zooming in, we can see that the mine matches in the size the entirety of the city of Cologne (4th largest German city, 1.1 million inhabitants), and finally zooming in further, we can see that the size of the coal excavators match a city block of neirghbouring town Elsdorf.


<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <div style="display: flex; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/DE_large.png" style="width: 100%; overflow: hidden; margin: 0 8px;">
        <img src="../../resources/posts/2024-04-10/DE_medium.png" style="width: 100%; overflow: hidden; margin: 0 8px;">
    </div>
    <div style="display: flex; justify-content: center; margin: 0 0 16px 0;">
        <img src="../../resources/posts/2024-04-10/DE_small.png" style="width: 45%; overflow: hidden;">
    </div>
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 3:</b> Satellite imagery of the Halmbach pit mine.</span>
</div>

Werner Herzog's Lessons of Darkness exposes a myriad of open shots of burning oil fields, spoutting impenetrable black clouds of soot into the air (Fig. 4), covering the desert sand in tar and ashes. In the absence of context, this hellish vision embodies how the usage of fossil fuels make humanity loose its sanity. Amongst the mouths of fire are roaming silhouettes. Texan oil workers tasked with extinguishing the fires, but as they succeed, one of them casts a torch back into the stream of oil, lighting it back on fire. "Has life without fire become unbearable for them?" asks Herzog.

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <img src="../../resources/posts/2024-04-10/lessons_of_darkness.png" style="width: 100%; overflow: hidden; margin: 16px 0;">
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 4:</b> Lessons of Darkness, 1992, Werner Herzog.</span>
</div>

For days after seeing this movie, that vision stuck with me. I was shaken to witness that oil fields in that region of Kuweit were so numerous that lighting them on fire would recreate our age-old vision of hell on earth. I couldn't help but wonder - how many oil fields are there? I knew Kuweit as an expectionally oil-rich country, and was thus lead to wonder if that vision of nightmare could have happened in other places. It could have, tells us satellite imagery, many times over. My first exploration of the desolate plains of the Permian Basin (Western Texas, Figure 4.) through Google Maps clearly marked the second occasion in which the scale of our usage of fossil fuels imbued me. For hundreds of kilometers on end, the satellite images seem to be corrupted by a silicon-like pattern of white segments and squares. A closer look unveils the nature of that phenomenon. The systematic and overwhelming covering of the bare land in a digital, articulated and orderly network is the result of the deliberate covering of the geological deposit by an unfathomable number of oil fields, systematically laid down to maxime the extraction rate of the oil resting underneath.

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <div style="display: flex; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/TX_large.png" style="width: 100%; overflow: hidden; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/TX_small.png" style="width: 100%; overflow: hidden; margin: 16px 0;">
    </div>
    <div style="display: flex; justify-content: center; margin: 0 0 16px 0;">
       <img src="../../resources/posts/2024-04-10/TX_streetview.png" style="width: 100%; overflow: hidden; margin: 16px 0;">
    </div>
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 4:</b> Exploring the Permian Basin with the help of Google Maps.</span>
</div>

That vision left a lasting impression on me. Captivated by this vision of a landscape simultaneously cursed and blessed, I wanted to use readily available tools to rationalise it. __Can we train a computer vision model to detect and count all of these oil fields?__ Can it help us cristallise that subjective impression, was I left to wonder.



## Counting all the oil fields within the Permian Basin

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <img src="../../resources/posts/2024-04-10/task_breakdown.jpg" style="width: 100%; overflow: hidden; margin: 16px 0;">
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 4:</b> Task breakdown.</span>
</div>

### Building and training a model to identify oil wells from satellite images

Luckily for me, I was not the first one who thought about training a machine learning model to detect oil fields from the growing body of available satellite imagery. This idea would actually have been short lived if no labeled dataset of oil derricks was available; on my own, trying to get a precise answer to this absurd question would have required too large an investment to carry on.

In 2021, Z. Wang et al published a paper called "An Oil Well Dataset Derived from Satellite‐Based Remote Sensing" [1] sharing their foundational work on assembling as large a dataset as possible of labeled satellite images from Daqing City in China, called _Northeast Petroleum University–Oil Well Object Detection Version 1.0 (NEPU–OWOD V1.0)_. In all, they were able to gather 432 images containing in total 1192 identified oil wells.

Specifically, the oil wells are identified thanks to the above ground infrastructure, with the distinctive pumpjack appearing clearly on most images. Pumpjacks are quite ubiquitous for onshore oil wells (need reference). They are a quintessential design for the pump required to bring the oil from the underground reservoir to the surface. As a result, the aspect of the pumpjacks present in the NEPU dataset resembles rather closely their American counterparts, providing hope for being able to transfer learning from the NEPU dataset to satellite images mapping the Texan soil. Their aspect is distinctive, with clear-cut features like the shape of the hammer, and sizes ranging 6-12 meters long, 2-5 meters wide and 5-12 meters high, which make their detection possible from space. Typical resolution for satellite images ranging from 0.30 centimeters(Pleiades Neo) to 10 meters (Landsat).

<div id="html" markdown="0" style="display: flex; flex-direction: column; align-items: center; margin: 16px 0 32px;">
    <div style="display: flex; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/pumpjack.jpg" style="width: 100%; overflow: hidden; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/0_28.jpg" style="width: 100%; overflow: hidden; margin: 16px 0;">
        <img src="../../resources/posts/2024-04-10/TX_32.201697,-102.5714027.png" style="width: 100%; overflow: hidden; margin: 16px 0;">
    </div>
    <span style="color: #666; font-size: 13px; font-style: italic;"><b>Figure 4:</b> Exploring the Permian Basin with the help of Google Maps.</span>
</div>


* YoloV5
* ClearML
* Colab worker queue

## Conclusion

Blablabla

Throwback to Herzog's vision. It's just a hint at the true scale of what's happening every second on earth. We are secretly unleashing this hellish fire, 50000 times over, hidden within engines, boilers and smelters. What would prometheus think about us?

## References


* [1] [EIA Annual petroleum and other liquids production](https://www.eia.gov/international/data/world/petroleum-and-other-liquids/annual-petroleum-and-other-liquids-production?pd=5&p=0000000000000000000000000000000000vg&u=0&f=A&v=mapbubble&a=-&i=none&vo=value&&t=C&g=00000000000000000000000000000000000000000000000001&l=249-ruvvvvvfvtvnvv1vrvvvvfvvvvvvfvvvou20evvvvvvvvvvnvvvs0008&s=94694400000&e=1704067200000)
* [2] [Hamback surface mine](https://en.wikipedia.org/wiki/Hambach_surface_mine)